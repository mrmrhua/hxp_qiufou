<!doctype html>
<html lang="zh-cmn-Hans">
<head>
    <meta charset="UTF-8">
    <title>猴小胖设计服务专家——37分钟帮你找到好设计师</title>
    <meta name="keywords" content="logo在线制作,海报设计,vi设计,ppt制作,公司logo设计,商业计划书,二维码名片">
    <meta name="description" content="还在发愁网上找的设计师水平差？猴小胖平台帮你一键找到好设计师,提供PPT定制、UI设计、企业画册、海报展览、LOGO设计、企业形象设计、VI等服务">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="http://image.houxiaopang.com/houicon.ico">
    <style type="text/css">
    	*{
    		font-size: 14px;
    		box-sizing: border-box;
    		margin:0 0;
    		padding: 0 0;
    	}

    	html,body{
    		height: 100%;
    	}
    	.kh_btn{
    font-size:20px;
    text-align:center;
    line-height:50px;
    color:#d11866;
    border:1px solid #d11866;
    height: 50px;
    margin: 35px auto 20px;
    width: 200px;
    cursor: pointer;
}
.kh_btn:hover{
    color: #fff;
    border:1px solid #fff;
    background: linear-gradient(to right,#fe6549,#d01667);
}
.kh_option{
    height: 36px;
    width: 100%;
    line-height: 36px;
    font-size: 14px;
    padding-left: 15px;
}
.kh_option:hover{
    background: #f7f7f7;
}
.kh_input{
    width: 100%;
    padding-left: 15px;
    height: 100%;
    border: none;
    outline: none;
    font-size: 16px;
    background: #f5f5f5;
}
    </style>
</head>
<body>
<div id="kh" style="height: 100%;width: 100%;">
    <div style="width:100%;height: 100%;position: relative;">
            <div style="height: 65px;background: linear-gradient(to right,#fe6549,#d01667);font-size: 20px;color: #fff;text-align: center;line-height: 65px;width: 100%;">
                <span>发布需求</span>
            </div>
            <div id="kh_alert" style="position: absolute;top: 65px;bottom: 0;width: 100%;left: 0;display: none">
                <div style="background: url('http://image.houxiaopang.com/index/kh/kh-icon.png') no-repeat 0 -50px;height: 100px;width: 100px;margin: 69px auto 0;"></div>
                <div style="color: #d11866;font-size: 24px;margin-top: 34px;text-align: center;">发布成功</div>
                <div style="font-size: 20px;text-align: center;margin-top: 67px;">猴小胖设计师顾问将立即联系你</div>
                <div style="margin-top: 16px;font-size: 20px;text-align: center;">请耐心等待</div>
            </div>
            <div id="kh_from" style="position: absolute;top: 65px;bottom: 0;width: 100%;left: 0;display: flex;justify-content: space-around;flex-direction: column;min-height: 495px;">
            	<div style="height: 325px;width: 100%;overflow: hidden;">
             <div id="kh_select" style="background: #f5f5f5;width: 100%;margin: 20px auto 0;height: 50px;border:1px solid #d9d9d9;padding-left: 15px;font-size: 16px;line-height: 50px;position: relative;cursor: pointer;">
                <span id="kh_name">我需要：UI设计</span>
                <div id="kh_icon" style="position: absolute;;height: 15px;width:15px;top:16px;background: url('http://image.houxiaopang.com/index/kh/kh-http://image.houxiaopang.com/index/kh/kh-icon.png') no-repeat -97px -47px;right: 15px;"></div>
                 <div id="kh_options" style="position: absolute;top: 50px;left: 0;overflow: hidden;background: #fff;border:1px solid #d9d9d9;width: 100%;margin-left: -1px;margin-top: -1px;display: none;">
                    <div class="kh_option">UI设计</div>
                    <div class="kh_option">PPT定制</div>
                    <div class="kh_option">海报展板</div>
                    <div class="kh_option">LOGO</div>
                    <div class="kh_option">企业形象设计VI</div>
                 </div>
              </div>
            <div style="width: 100%;margin: 20px auto 0;height: 50px;border:1px solid #d9d9d9">
                <input class="kh_input" type="text" id="kh_nickname" placeholder="您的称呼">
            </div>
            <div style="width: 100%;margin: 20px auto 0;height: 50px;border:1px solid #d9d9d9">
                <input class="kh_input" type="text" id="kh_tel" placeholder="请输入您的联系方式，如手机号，微信号等。">
            </div>
            <div id="kh_btn" class="kh_btn">立即发布</div>
            </div>
            <div style="height: 170px;width: 100%;">
            <p style="text-align: center;margin: 20px 0;height: 20px;line-height: 20px;">猴小胖设计顾问为您免费提供</p>
            <div style="height: 80px;width: 100%;overflow: hidden;margin: 0 auto;padding: 0 15px;display: flex;justify-content: space-around;">
                <div style="width: 50px;height: 80px;">
                    <div style="height: 50px;background: url('http://image.houxiaopang.com/index/kh/kh-icon.png') no-repeat;margin-bottom: 7px;"></div>
                    <span style="white-space: nowrap;margin-left: -8px;">设计咨询</span>
                </div>
                <div style="width: 50px;height: 80px;">
                    <div style="height: 50px;background: url('http://image.houxiaopang.com/index/kh/kh-icon.png') no-repeat -50px 0;margin-bottom: 7px;"></div>
                    <span style="white-space: nowrap;margin-left: -8px;">方案制定</span>
                </div>
                <div style="width: 50px;height: 80px;">
                    <div style="background: url('http://image.houxiaopang.com/index/kh/kh-icon.png') no-repeat -100px 0;height: 50px;margin-bottom: 7px;"></div>
                    <span style="white-space: nowrap;margin-left: -8px;">风格定位</span>
                </div>
            </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">

function ajax(options) {
    if (!options.type) {
      options.type = "GET"
    }
    //todo options.url 临时去掉https 的 s
    //options.url = options.url.replace("https", "http")
    if (options.type === "get" || options.type === "GET") {
      options.url += "?";
      for (var i in options.data) {
        options.url += i + "=" + options.data[i] + "&";
      }
      options.url = options.url.substring(0, options.url.length - 1);
    } else {
      var data = []
      for (var i in options.data) {
        data.push(i + "=" + options.data[i])
      }
      options.data = data.join("&")
    }
    var ajax = new XMLHttpRequest();
    ajax.onreadystatechange = function () {
      if (ajax.readyState === 4 && ajax.status === 200) {
        options.success(eval("(" + ajax.responseText + ")"));
      } else if (ajax.readyState === 4 && ajax.status !== 200) {
        options.error(ajax);
      }
    };
    if (options.timeout && typeof(options.timeout) === "number") {
      setTimeout(function () {
        if (ajax.readyState !== 4) {
          ajax.abort();
        }
      }, options.timeout)
    }
    ajax.open(options.type, options.url, true);
    if (options.token) {
      ajax.setRequestHeader("Authorization", "Token " + token);
    }
    if (options.type === "get" || options.type === "GET") {
      ajax.setRequestHeader("Content-type", "application/json;charset=utf-8")
      ajax.send();
    } else {
      ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded; charset=utf-8")
      ajax.send(options.data);
    }
  }


    var kh_ops = document.getElementById("kh_options")
    var kh_op = document.getElementById("kh_options").children
    var kh_name = document.getElementById("kh_name")
    var kh_from  = document.getElementById("kh_from");
    var kh_alert = document.getElementById("kh_alert")
    var kh_btn = document.getElementById("kh_btn")
    var kh_select = document.getElementById("kh_select")
    var kh_icon = document.getElementById("kh_icon")
    var kh_nickname = document.getElementById("kh_nickname")
    var kh_tel = document.getElementById("kh_tel")
    var ispost = true
    for(var i = 0,size = kh_op.length;i<size;i++){
        kh_op[i].onclick =function(){
            kh_name.innerText = "我需要：" + this.innerText
        }
    }   
    kh_btn.onclick = function(){
      if(ispost){
        if(kh_nickname.value.trim()==="" || kh_tel.value.trim()===""){
          alert("您的称呼或联系方式不能为空！")
          return
        }
       ispost = false
       ajax({
        url:'https://www.houxiaopang.com/api/v1.1/client/postdemand',
        type:'POST',
        data:{
          cat:kh_name.innerText.substr(4),
          name:kh_nickname.value.trim(),
          wxnum: kh_tel.value.trim()
        },
        timeout:5000,
        success(res){
          ispost = true
          if(res.code === 0){
            kh_from.style.display = 'none'
            kh_alert.style.display = 'block'
          }else{
            alert("需求发布失败！请刷新重试。")
          }
        },
        error(){
          ispost = true
          alert("需求发布失败！请刷新重试。")
        }
      })
     }
    }
    kh_select.onclick = function(){
        if(kh_ops.style.display === "none"){
            kh_icon.style.background = "url('http://image.houxiaopang.com/index/kh/kh-icon.png') no-repeat -112px -49px";
            kh_ops.style.display="block"
        }else{
            kh_icon.style.background = "url('http://image.houxiaopang.com/index/kh/kh-icon.png') no-repeat -97px -47px";
            kh_ops.style.display="none"
        }
    }
</script>
</body>
</html>